version: 0.0
os: linux

files:
    - source: /
      destination: /home/ec2-user/leafy-front
      overwrite: yes

permissions:
    - object: /
      pattern: '**'
      owner: ec2-user
      group: ec2-user

environment:
    variables:
        REACT_APP_MODE: ${{ secrets.REACT_APP_MODE }} >> .env.production

hooks:
    AfterInstall:
        - location: scripts/after_Install.sh
          timeout: 300
          runas: ec2-user
    ApplicationStart:
        - location: scripts/application_start.sh
          timeout: 400
          runas: ec2-user
